% calc image measurements
% this is for later to calculate print sizes...
%\settoheight\imageheight{\includegraphics{\varImgPath}}
%\settowidth\imagewidth{\includegraphics{\varImgPath}}
%Image Original Height: \the\imageheight\ (\printlength{\imageheight}) Original Width: \the\imagewidth\ (\printlength{\imagewidth})

% caption settings
\captionsetup[figure]{	
	font=\varFigCapLabelSize,
}
% hide numbers if set that way in theme variables
\ifnum\pdfstrcmp{\varShowToFiguresNumbering}{false}=0
\captionsetup[figure]{
		labelformat=empty,
}
\fi
% hide numbers if chapter numbers are hidden set that way in theme variables
\ifnum\pdfstrcmp{\varChapterWriteNumbering}{false}=0
\captionsetup[figure]{
		labelformat=empty,
}
\fi

\hrule% to see \linewidth

\begin{figure}
\includegraphics[max width=\linewidth]{example-image-1x1}
\end{figure}
\begin{figure}
\includegraphics[max width=\linewidth]{example-image-a4}
\end{figure}


\ifnum\pdfstrcmp{\varWrapText}{true}=0 
	% wrap text around figure
	\begin{wrapfigure}{\varFigFloat}{\varFigWidth\textwidth}
		\vspace{-12pt} % move image up a bit to align correctly to top
		\includegraphics[width=\varFigWidth\textwidth]{\varImgPath} 
		% if caption empty, don't print it (no empty line)
		\ifnum\pdfstrcmp{\varCaption	}{}=0 \else \caption{\varCaption} \fi 
	\end{wrapfigure}
\else
	% do not wrap text around figure
	\begin{figure}[\varFigPlacement]
	\centering
	\ifnum\pdfstrcmp{\varFigWidth}{paper}=0 
		% image is paperwidth
		\includegraphics[width=\paperwidth]{\varImgPath}
	\else
		\ifnum\pdfstrcmp{\varFigWidth}{text}=0 
			% image is text width
			\includegraphics[width=\textwidth]{\varImgPath}			
		\else
			% image is scaled
			\includegraphics[width=\varFigWidth\textwidth]{\varImgPath}
		\fi 
	\fi 
	% if caption empty, don't print it (no empty line)
	\ifnum\pdfstrcmp{\varCaption}{}=0 \else \caption{\varCaption} \fi 
	\end{figure}
\fi 